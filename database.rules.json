{
  "rules": {
    ".read":  "false",
    ".write": "false",

    "rooms": {
      ".read":  "true",
      ".write": "true"
    },
    "users": {
      ".read":  "true",
      ".write": "true"
    },
    "messages": {
      ".read":  "true",
      ".write": "true",
      "$room_id" : {
        ".validate": "root.child('rooms').hasChild($room_id)"
      }
    }
  }
}
